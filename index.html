<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>zqÔºö‰∏áÂú£ËäÇÂø´‰πê</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; }
        body {
            background: linear-gradient(135deg, #ff7e5f, #feb47b, #667eea);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
            padding: 20px;
        }

        .gift-modal {
            background: white;
            padding: clamp(18px, 3.5vw, 30px) clamp(20px, 5vw, 50px);
            border-radius: 18px;
            box-shadow: 0 0 30px rgba(0,0,0,0.18);
            text-align: center;
            z-index: 100;
            width: min(92%, 560px);
        }
        .gift-modal h1 {
            color: #e63946;
            margin-bottom: 14px;
            font-size: clamp(18px, 3.5vw, 26px);
            line-height: 1.2;
        }
        .gift-btn {
            background: #e63946;
            color: white;
            border: none;
            padding: clamp(10px, 2.5vw, 14px) clamp(18px, 4vw, 30px);
            border-radius: 30px;
            font-size: clamp(16px, 3.5vw, 20px);
            cursor: pointer;
            transition: transform .18s ease, background .18s ease;
            touch-action: manipulation;
        }
        .gift-btn:hover { background: #c2185b; transform: scale(1.04); }
        .hidden { display: none; }

        #tagContainer {
            position: absolute;
            inset: 0;
            pointer-events: none;
            z-index: 50;
        }
        .tag {
            position: absolute;
            background: rgba(255,255,255,0.95);
            padding: clamp(8px, 2.5vw, 16px) clamp(12px, 3.5vw, 24px);
            border-radius: 999px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.12);
            font-size: clamp(12px, 3vw, 20px);
            font-weight: 700;
            color: #2d3748;
            opacity: 0;
            transition: transform .4s ease, opacity .4s ease;
            transform: scale(.85);
            max-width: min(84%, 360px);
            word-break: break-word;
            text-align: left;
            pointer-events: none;
        }

        .final-tag {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
            font-size: clamp(18px, 4vw, 32px);
            background-color: #ff6f61;
            color: #fff;
            padding: clamp(12px, 3vw, 24px) clamp(16px, 4vw, 40px);
            border-radius: 14px;
            width: min(92%, 720px);
            text-align: center;
            z-index: 120;
            box-shadow: 0 12px 30px rgba(0,0,0,0.18);
            overflow: visible;
        }

        @media (prefers-reduced-motion: reduce) {
            .tag { transition: none; animation: none !important; }
            .gift-btn { transition: none; }
        }

        @media (max-width: 480px) {
            body { padding: 12px; }
            .gift-modal { padding: 16px; }
            .final-tag { font-size: clamp(16px, 5vw, 22px); padding: 12px; }
        }
    </style>
</head>
<body>
    <audio id="christmasMusic" loop>
        <source src="./music2.mp3" type="audio/mpeg" />
        ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅÈü≥È¢ëÊí≠Êîæ
    </audio>

    <div class="gift-modal" id="giftModal">
        <h1>üéÉ ‰Ω†Êúâ‰∏Ä‰ªΩ‰∏áÂú£ËäÇÁ§ºÁâ©ÔºÅ</h1>
        <button class="gift-btn" id="confirmBtn" aria-label="Êü•ÁúãÁ§ºÁâ©">ÁÇπÂáªÊü•Êî∂</button>
    </div>

    <div id="tagContainer" aria-hidden="true"></div>

    <script>
        const giftModal = document.getElementById('giftModal');
        const confirmBtn = document.getElementById('confirmBtn');
        const tagContainer = document.getElementById('tagContainer');
        const music = document.getElementById('christmasMusic');
        const tags = [
            "zq: üéÉËÆ∞ÂæóÂ§öÂñùÊ∞¥Ôºå‰øùÊåÅË∫´‰ΩìÂÅ•Â∫∑ÔºÅ",
            "zq: üëªÁîüÊ¥ªÂøôÁ¢å‰πüË¶ÅÊ≥®ÊÑè‰ºëÊÅØÔºÅ",
            "zq: üç¨Êó©Áù°Êó©Ëµ∑ÔºåÂÖªÊàêËâØÂ•ΩÁöÑ‰ΩúÊÅØ‰π†ÊÉØÔºÅ",
            "zq: üï∏Ô∏èÈÄÇÂΩìËøêÂä®Ôºå‰øùÊåÅÊ¥ªÂäõÔºÅ",
            "zq: üòäÂÅ∂Â∞îÊîæÊùæ‰∏Ä‰∏ãÔºåÁªôËá™Â∑±‰∏ÄÁÇπÂ•ñÂä±ÔºÅ",
            "zq: ËÆ∞ÂæóÂêÉÊó©È§êÔºåÂºÄÂêØÁæéÂ•ΩÁöÑ‰∏ÄÂ§©ÔºÅ",
            "zq: ‰øùÊåÅÂæÆÁ¨ëÔºåÁîüÊ¥ª‰ºöÊõ¥ÁæéÂ•ΩÔºÅ",
            "zq: üéÉ‰∏áÂú£ËäÇÂø´‰πêÔºåÊÑø‰Ω†ÂÖÖÊª°Ê¨¢Á¨ë‰∏éÁîúËúúÔºÅ",
            "zq: üëª‰∏çÁªôÁ≥ñÂ∞±Êç£ËõãÔºåÊÑø‰Ω†ÁîüÊ¥ªÂÖÖÊª°‰πêË∂£ÔºÅ",
            "zq: üç¨ÁîúËúúÁöÑÊó∂ÂÖâÊÄªÊòØÂÄºÂæóÁèçÊÉúÔºÅ",
            "zq: üï∏Ô∏èÊÑø‰Ω†ÁöÑÁîüÊ¥ªÂÉèËúòËõõÁΩë‰∏ÄÊ†∑Á¥ßÂØÜÁõ∏ËøûÔºÅ",
            "zq: üç¨ËÆ∞ÂæóÁªôËá™Â∑±‰∏Ä‰∫õÁã¨Â§ÑÁöÑÊó∂Èó¥Ôºå‰∫´ÂèóÂÆÅÈùôÔºÅ",
            "zq: üï∏Ô∏èÂ§öÂíåÂÆ∂‰∫∫ÊúãÂèãËÅîÁ≥ªÔºåÊÑüÂèóÊ∏©ÊöñÔºÅ",
            "zq: üòä‰øùÊåÅÂ•ΩÂ•áÂøÉÔºåÊé¢Á¥¢ÁîüÊ¥ªÁöÑÁæéÂ•ΩÔºÅ",
            "zq: üé≠ ‰∏áÂú£ËäÇÂø´‰πêÔºåÊÑø‰Ω†ÁîüÊ¥ªÂÖÖÊª°ÊàèÂâßÊÄß‰∏éÊÉäÂñúÔºÅ",
            "zq: ü¶â Â§úÊôöÁöÑÁå´Â§¥Èπ∞ÊèêÈÜí‰Ω†ÔºåÊ≥®ÊÑè‰ºëÊÅØÔºÅ",
            "zq: ÈÄÇÂΩìÊîæ‰∏ãÊâãÊú∫ÔºåÂ§öÁúãÁúãË∫´ËæπÁöÑÈ£éÊôØÔºÅ",
            "zq: ËÆ∞Âæó‰øùÊåÅÂøÉÊÉÖÊÑâÂø´ÔºåÁ¨ëÂÆπÊòØÊúÄÂ•ΩÁöÑË£ÖÈ•∞ÔºÅ",
            "zq: üßô‚Äç‚ôÄÔ∏è ‰∏áÂú£ËäÇÁöÑÈ≠îÊ≥ïÊ£í‰∏∫‰Ω†ÁÇπ‰∫ÆÂπ∏Á¶èÔºÅ",
            "zq: ÁîüÊ¥ª‰∏≠ÁöÑÂ∞èÁ°ÆÂπ∏ÔºåÂÄºÂæóÊàë‰ª¨ÂéªÂèëÁé∞ÔºÅ",
            "zq: ËÆ∞ÂæóÊåâÊó∂‰ΩìÊ£ÄÔºåÂÖ≥Ê≥®Ëá™Â∑±ÁöÑÂÅ•Â∫∑ÔºÅ",
            "zq: üéÉ ‰∏áÂú£ËäÇÂø´‰πêÔºåÊÑø‰Ω†ÁöÑÁîüÊ¥ªÂÉèÂçóÁìúÁÅØ‰∏ÄÊ†∑Êòé‰∫ÆÔºÅ",
            "zq: üëª ÊÉ≥Âøµ‰Ω†ÔºåÊÑø‰∏áÂú£ËäÇÂ∏¶Áªô‰Ω†ÊÉäÂñú‰∏éÊ¨¢‰πêÔºÅ",
            "zq: ËÆ∞Âæó‰øùÊåÅÈ•ÆÈ£üÂùáË°°ÔºåÂÅ•Â∫∑ÊúÄÈáçË¶ÅÔºÅ",
            "zq: üê±Â§öÂñùÊ∞¥ÔºåÂ∞ëÂñùÂê´Á≥ñÈ•ÆÊñôÔºå‰øùÊåÅÊ∏ÖÁàΩÔºÅ",
            "zq: ÊØèÂ§©ÊäΩÂá∫Êó∂Èó¥ÊîæÊùæÔºåÁºìËß£ÂéãÂäõÔºÅ",
            "zq: üéÉÈÄÇÂΩìÊôíÊôíÂ§™Èò≥ÔºåË°•ÂÖÖÁª¥ÁîüÁ¥†DÔºÅ",
            "zq: üëªËÆ∞ÂæóÂæÆÁ¨ëÔºå‰º†ÈÄíÊ≠£ËÉΩÈáèÔºÅ",
            "zq: üç¨ÁîüÊ¥ª‰∏≠ÊÄªÊúâÂ∞èÁ°ÆÂπ∏ÔºåÂà´Âøò‰∫ÜÂèëÁé∞ÂÆÉ‰ª¨ÔºÅ",
            "zq: üï∏Ô∏èËßÑÂæã‰ΩúÊÅØÔºå‰øùÊåÅÂÖÖË∂≥Áù°Áú†ÔºÅ",
            "zq: Â§öÂêÉÊ∞¥ÊûúËî¨ËèúÔºåÂ¢ûÂº∫ÂÖçÁñ´ÂäõÔºÅ",
            "zq: üê∂ÁîüÊ¥ª‰∏≠ÁöÑÂ∞èÁ°ÆÂπ∏ÔºåÂÄºÂæóÊàë‰ª¨ÂéªÂèëÁé∞ÔºÅ",
            "zq: ËÆ∞ÂæóÊåâÊó∂‰ΩìÊ£ÄÔºåÂÖ≥Ê≥®Ëá™Â∑±ÁöÑÂÅ•Â∫∑ÔºÅ",
            "zq: üéÉ ‰∏áÂú£ËäÇÂø´‰πêÔºåÊÑø‰Ω†ÁöÑÁîüÊ¥ªÂÉèÂçóÁìúÁÅØ‰∏ÄÊ†∑Êòé‰∫ÆÔºÅ",
            "zq: üëª ÊÉ≥Âøµ‰Ω†ÔºåÊÑø‰∏áÂú£ËäÇÂ∏¶Áªô‰Ω†ÊÉäÂñú‰∏éÊ¨¢‰πêÔºÅ",
            "zq: ÈÄÇÂΩìËøêÂä®Ôºå‰øùÊåÅË∫´‰ΩìÁÅµÊ¥ªÔºÅ",
            "zq: üéâ ÊúÄÂêéÁ•ù‰Ω†‰∏áÂú£ËäÇÂø´‰πêÔºåÊÑø‰Ω†ÁöÑÁîüÊ¥ªÂÖÖÊª°Âπ∏Á¶è‰∏éÊÉäÂñúÔºÅ",
            "zq: ‰Ω†ÁöÑÁ¨ëÂÆπÊúÄÂ•ΩÁúã‰∫Ü üòäüòä"
        ];

        const colors = ['#ff6f61', '#ffcc00', '#6b5b95', '#88b04b', '#f7cac9', '#92a8d1', '#955251', '#b565a7'];

        function sleep(ms) { return new Promise(resolve => setTimeout(resolve, ms)); }
        function typeText(element, text, speed) {
            return new Promise(resolve => {
                const chars = Array.from(text);
                let i = 0;
                element.textContent = '';
                const id = setInterval(() => {
                    element.textContent += chars[i];
                    i++;
                    if (i >= chars.length) {
                        clearInterval(id);
                        resolve();
                    }
                }, speed);
            });
        }

        confirmBtn.addEventListener('click', () => {
            giftModal.classList.add('hidden');

            music.play().catch(() => { /* ÊµèËßàÂô®ÈôêÂà∂ÔºåÂøΩÁï•ÈîôËØØ */ });
            setTimeout(() => { music.pause(); music.currentTime = 0; }, 32000);

            tags.forEach((text, index) => {
                setTimeout(() => {
                    const tag = document.createElement('div');
                    tag.className = 'tag';
                    tag.textContent = text;
                    tag.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];

                    const top = 5 + Math.random() * 80;
                    const left = 5 + Math.random() * 80;
                    tag.style.top = `${top}%`;
                    tag.style.left = `${left}%`;
                    tagContainer.appendChild(tag);

                    requestAnimationFrame(() => {
                        tag.style.opacity = '1';
                        tag.style.transform = 'scale(1)';
                    });

                    if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                        tag.animate(
                            [{ transform: 'scale(1)' }, { transform: 'scale(1.06)' }, { transform: 'scale(1)' }],
                            { duration: 1200 + Math.random() * 800, iterations: Infinity }
                        );
                    }

                    if (index === tags.length - 1) {
                        setTimeout(async () => {
                            const allTags = document.querySelectorAll('.tag');
                            allTags.forEach((t, i) => {
                                setTimeout(() => {
                                    t.style.opacity = '0';
                                    t.style.transform = 'scale(.8)';
                                    setTimeout(() => t.remove(), 420);
                                }, i * 80);
                            });

                            await sleep(600);

                            const finalTag = document.createElement('div');
                            finalTag.className = 'final-tag';

                            const mainSpan = document.createElement('div');
                            mainSpan.style.display = 'block';
                            mainSpan.style.whiteSpace = 'pre-wrap';
                            mainSpan.style.wordBreak = 'break-word';

                            const smallSpan = document.createElement('span');
                            smallSpan.style.fontSize = '0.7em';
                            smallSpan.style.display = 'block';
                            smallSpan.style.marginTop = '8px';
                            smallSpan.style.opacity = '0';
                            smallSpan.style.transition = 'opacity .3s ease';
                            smallSpan.textContent = '';

                            finalTag.appendChild(mainSpan);
                            finalTag.appendChild(smallSpan);
                            tagContainer.appendChild(finalTag);

                            finalTag.style.opacity = '0';
                            finalTag.style.transition = 'opacity .6s ease';
                            requestAnimationFrame(() => { finalTag.style.opacity = '1'; });

                            const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
                            const mainText = 'zq: ‰Ω†ÁöÑÁ¨ëÂÆπÊúÄÂ•ΩÁúã‰∫Ü üòäüòä';
                            const smallText = '‰Ω†ÁöÑÂ∞è‰ºô‰º¥: w';
                            const speed = prefersReduced ? 0 : 60;

                            if (prefersReduced) {
                                mainSpan.textContent = mainText;
                                smallSpan.textContent = smallText;
                                smallSpan.style.opacity = '0.95';
                                setTimeout(() => {
                                    finalTag.style.opacity = '0';
                                    setTimeout(() => finalTag.remove(), 600);
                                }, 6000);
                            } else {
                                await typeText(mainSpan, mainText, speed);
                                await sleep(1500);
                                smallSpan.style.opacity = '0.95';
                                await typeText(smallSpan, smallText, speed);
                                setTimeout(() => {
                                    finalTag.style.opacity = '0';
                                    setTimeout(() => finalTag.remove(), 600);
                                }, 6000);
                            }
                        }, 1800);
                    }
                }, index * 380);
            });
        });
    </script>
</body>
</html>
